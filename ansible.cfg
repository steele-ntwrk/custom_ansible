[defaults]
inventory = /etc/ansible/inventory               # global fallback; projects can override
host_key_checking = False                        # controllers often talk to many lab devices; secure with known_hosts if needed
retry_files_enabled = False
forks = 50
timeout = 30
stdout_callback = yaml
bin_ansible_callbacks = True
callbacks_enabled = timer, profile_tasks
gathering = smart
fact_caching = jsonfile
fact_caching_connection = /var/cache/ansible/facts
interpreter_python = auto_silent
nocows = 1

# Collections/roles (system + project). Projects still get priority via local ansible.cfg per Ansible precedence.
collections_path = /etc/ansible/collections:/usr/share/ansible/collections
roles_path = /etc/ansible/roles:/usr/share/ansible/roles:/work/roles

# Useful for CSV/Excel renders via template/filter plugins
jinja2_extensions = jinja2.ext.do,jinja2.ext.loopcontrols

[ssh_connection]
pipelining = True
ssh_args = -o ControlMaster=auto -o ControlPersist=60s -o ServerAliveInterval=30 -o ServerAliveCountMax=10
# Network OSes benefit from persistent CLI channels
retries = 2

[persistent_connection]
connect_timeout = 30
command_timeout = 60
connect_retry_timeout = 5

# Speed up unreachable/serial failures in big fabrics
[connection]
persistent = True
